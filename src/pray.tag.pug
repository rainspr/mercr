pray
  section
    //h3 お祈り計算できるマン3.1
    jst 
    .row
      //マッチングのボタン群
      .col-sm-4
        h4(strong, #clock)
        .row
          .col-xs-6
            .alert.alert-warning(type="button", data-toggle="modal", data-target="#upleft", tabindex="0")
              p.text-left 左上
              p.text-left { pray.modul }
          .col-xs-6
            .alert.alert-danger(type="button", data-toggle="modal", data-target="#upright", tabindex="0")
              p.text-left 右上
              p.text-left { pray.modur }
        .row
          .col-xs-6.col-xs-offset-3
            .alert.alert-default(type="button", data-toggle="modal", data-target="#gate", tabindex="0")
              p.text-left ゲート
              p.text-left { pray.modgt }
        .row
          .col-xs-6
            .alert.alert-info(type="button", data-toggle="modal", data-target="#lowleft", tabindex="0")
              p.text-left 左下
              p.text-left { pray.modll }
          .col-xs-6
            .alert.alert-success(type="button", data-toggle="modal", data-target="#lowright", tabindex="0")
              p.text-left 右下
              p.text-left { pray.modlr }
      //ゲート情報
      .col-sm-8
        .panel.panel-default
          .panel-heading
            h4.panel-title test
          .panel-body
            p test
    //モーダル置き場
    praymodal(ref="modul", refname="modul", modid="upleft", modtitle="左上",  modcolor="panel-warning")
    praymodal(ref="modur", refname="modur", modid="upright", modtitle="右上", modcolor="panel-danger")
    praymodal(ref="modgt", refname="gate", modid="gate", modtitle="ゲート", modcolor="panel-default")
    praymodal(ref="modll", refname="modll", modid="lowleft", modtitle="左下", modcolor="panel-info")
    praymodal(ref="modlr", refname="modlr", modid="lowright", modtitle="右下", modcolor="panel-success")
      
  script.
    var self = this
    self.pray = {
      modul: "タップしてね",
      modur: "タップしてね",
      modgt: "タップしてね",
      modll: "タップしてね",
      modlr: "タップしてね",
    }
    obs.on('onclock', function(clockmin){
      self.clockmin = clockmin
    })
    obs.on('oncalc', function(refname){
      self.pray[refname] = self.refs[refname].modalobj.prayed
      self.update()
    })
    self.on('mount', function(){
      $(function(){
        $("#upleft").on('shown.bs.modal', function(){
          $("#upright .close").focus()
        })
        $("#upright").on('shown.bs.modal', function(){
          $("#upleft .close").focus()
        })
        $("#gate").on('shown.bs.modal', function(){
          $("#gate .close").focus()
        })
        $("#lowleft").on('shown.bs.modal', function(){
          $("#lowleft .close").focus()
        })
        $("#lowright").on('shown.bs.modal', function(){
          $("#lowright .close").focus()
        })
      })
    })

    
  style.
    .alert-default {
      background-color: #f3f3f3;
      border-color: #f0f0f0;
    }
